import{r as l,m as k,q as E,o as u,c as n,a as s,s as U,v as c,x as m,F as V,y as T,z as x,t as y,n as b,p as C}from"./C2TCE_Pl.js";function A(){const v=l(""),r=l(!0),i="Submitting...",o=()=>{i.split("").forEach((a,d)=>{setTimeout(()=>{v.value+=a},d*100)})};return{text:v,showCursor:r,startEffect:()=>{o()}}}const B={class:"py-10 px-6"},F={class:"max-w-sm mx-auto py-10 px-6 bg-gray-100 rounded-xl"},M={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},Y=["disabled"],q={key:0,class:"flex items-center"},D={key:0,class:"ml-1 animate-blink opacity-50","aria-hidden":"true"},N={key:1},z=k({__name:"signup",setup(v){const r=l(""),i=l(""),o=l(""),p=l(""),a=l([]),d=l(!1),{text:w,showCursor:g,startEffect:h}=A(),_=E(),S=async()=>{var f;if(a.value=[],!i.value||!o.value||!p.value||!r.value){a.value.push("All fields are required.");return}if(o.value!==p.value){a.value.push("Passwords do not match.");return}d.value=!0,h();try{await _.signup(i.value,o.value,p.value,r.value),C("/top")}catch(t){const e=((f=t.response)==null?void 0:f.data)||t.message;a.value=Array.isArray(e)?e:[e]}finally{d.value=!1}};return(f,t)=>(u(),n("div",B,[s("div",F,[t[4]||(t[4]=s("h1",{class:"mb-6 text-2xl"},"Sign Up",-1)),s("form",{onSubmit:U(S,["prevent"])},[c(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),type:"text",placeholder:"Your name...",class:"w-full mb-4 py-4 px-6 rounded-xl"},null,512),[[m,r.value]]),c(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),type:"email",placeholder:"Your email address...",class:"w-full mb-4 py-4 px-6 rounded-xl"},null,512),[[m,i.value]]),c(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),type:"password",placeholder:"Your password...",class:"w-full mb-4 py-4 px-6 rounded-xl"},null,512),[[m,o.value]]),c(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),type:"password",placeholder:"Repeat password...",class:"w-full mb-4 py-4 px-6 rounded-xl"},null,512),[[m,p.value]]),a.value.length?(u(),n("div",M,[(u(!0),n(V,null,T(a.value,e=>(u(),n("p",{key:e},y(e),1))),128))])):x("",!0),s("button",{class:"py-4 px-6 bg-teal-700 text-white rounded-xl flex items-center justify-center",disabled:d.value},[d.value?(u(),n("span",q,[s("span",null,y(b(w)),1),b(g)?(u(),n("span",D,"|")):x("",!0)])):(u(),n("span",N,"Submit"))],8,Y)],32)])]))}});export{z as default};
